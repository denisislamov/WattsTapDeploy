# WattsTap - Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è Unity WebGL

Flask –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è Unity WebGL –±–∏–ª–¥–∞ –Ω–∞ Render.com.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone https://github.com/denisislamov/WattsTapDeploy.git
cd WattsTapDeploy
```

2. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
python -m venv venv
source venv/bin/activate  # –ù–∞ Windows: venv\Scripts\activate
pip install -r requirements.txt
```

3. –ü–æ–º–µ—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª—ã Unity WebGL –±–∏–ª–¥–∞ –≤ –ø–∞–ø–∫—É `unity_build/`:
```
unity_build/
‚îú‚îÄ‚îÄ Build.loader.js
‚îú‚îÄ‚îÄ Build.data
‚îú‚îÄ‚îÄ Build.framework.js
‚îî‚îÄ‚îÄ Build.wasm
```

4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
```bash
python app.py
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:5000

## üì¶ –°–æ–∑–¥–∞–Ω–∏–µ Unity WebGL –±–∏–ª–¥–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à Unity –ø—Ä–æ–µ–∫—Ç
2. **File** ‚Üí **Build Settings**
3. –í—ã–±–µ—Ä–∏—Ç–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É **WebGL**
4. –ù–∞–∂–º–∏—Ç–µ **Build**
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã –∏–∑ –ø–∞–ø–∫–∏ `Build/` –≤ `unity_build/`

–ü–æ–¥—Ä–æ–±–Ω–µ–µ —Å–º. `unity_build/README.md`

## üåê –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ Render.com

### –°–ø–æ—Å–æ–± 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –ó–∞–ø—É—à—å—Ç–µ –∫–æ–¥ –≤ GitHub:
```bash
git add .
git commit -m "Initial commit"
git push origin main
```

2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [Render.com](https://render.com) –∏ –≤–æ–π–¥–∏—Ç–µ
3. –ù–∞–∂–º–∏—Ç–µ **New** ‚Üí **Web Service**
4. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≤–∞—à GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: `https://github.com/denisislamov/WattsTapDeploy.git`
5. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Ç—è–Ω—É—Ç—ã –∏–∑ `render.yaml`
6. –ù–∞–∂–º–∏—Ç–µ **Create Web Service**

### –°–ø–æ—Å–æ–± 2: –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

1. –ù–∞ Render.com —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π **Web Service**
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
   - **Name**: wattstap (–∏–ª–∏ –ª—é–±–æ–µ –¥—Ä—É–≥–æ–µ –∏–º—è)
   - **Environment**: Python 3
   - **Build Command**: `pip install -r requirements.txt`
   - **Start Command**: `gunicorn app:app`
   - **Plan**: Free (–∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –¥—Ä—É–≥–æ–π –ø–ª–∞–Ω)

4. –ù–∞–∂–º–∏—Ç–µ **Create Web Service**

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
WattsTapDeploy/
‚îú‚îÄ‚îÄ app.py                 # –û—Å–Ω–æ–≤–Ω–æ–µ Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ requirements.txt       # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ render.yaml           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è Render.com
‚îú‚îÄ‚îÄ .gitignore            # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ README.md             # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îî‚îÄ‚îÄ index.html        # HTML —à–∞–±–ª–æ–Ω –¥–ª—è Unity
‚îî‚îÄ‚îÄ unity_build/          # Unity WebGL –±–∏–ª–¥ —Ñ–∞–π–ª—ã
    ‚îú‚îÄ‚îÄ README.md
    ‚îú‚îÄ‚îÄ Build.loader.js
    ‚îú‚îÄ‚îÄ Build.data
    ‚îú‚îÄ‚îÄ Build.framework.js
    ‚îî‚îÄ‚îÄ Build.wasm
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Ä—Ç –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `PORT` (—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è Render.com).
–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ—Ä—Ç 5000.

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ Unity –±–∏–ª–¥–∞

–ï—Å–ª–∏ –≤–∞—à–∏ —Ñ–∞–π–ª—ã Unity –∏–º–µ—é—Ç –¥—Ä—É–≥–∏–µ –∏–º–µ–Ω–∞, –∏–∑–º–µ–Ω–∏—Ç–µ –ø—É—Ç–∏ –≤ `templates/index.html`:
```javascript
var config = {
    dataUrl: buildUrl + "/YourBuild.data",
    frameworkUrl: buildUrl + "/YourBuild.framework.js",
    codeUrl: buildUrl + "/YourBuild.wasm",
    // ...
};
```

## üõ†Ô∏è Endpoints

- `/` - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å Unity WebGL –±–∏–ª–¥–æ–º
- `/unity_build/<filename>` - –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ Unity –±–∏–ª–¥–∞
- `/health` - Health check endpoint (–¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞)

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤**: Unity WebGL –±–∏–ª–¥—ã –º–æ–≥—É—Ç –±—ã—Ç—å –±–æ–ª—å—à–∏–º–∏. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Git LFS –Ω–∞—Å—Ç—Ä–æ–µ–Ω, –µ—Å–ª–∏ —Ñ–∞–π–ª—ã –ø—Ä–µ–≤—ã—à–∞—é—Ç 100MB.

2. **–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω Render**: –ù–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º –ø–ª–∞–Ω–µ —Å–µ—Ä–≤–∏—Å –∑–∞—Å—ã–ø–∞–µ—Ç –ø–æ—Å–ª–µ 15 –º–∏–Ω—É—Ç –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏. –ü–µ—Ä–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ—Å–ª–µ –ø—Ä–æ–±—É–∂–¥–µ–Ω–∏—è –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å 30-60 —Å–µ–∫—É–Ω–¥.

3. **CORS**: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å Unity WebGL –±–µ–∑ –ø—Ä–æ–±–ª–µ–º CORS.

4. **–ö–æ–º–ø—Ä–µ—Å—Å–∏—è**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ Unity –≤–∫–ª—é—á–µ–Ω–∞ Gzip –∫–æ–º–ø—Ä–µ—Å—Å–∏—è –¥–ª—è WebGL –±–∏–ª–¥–∞.

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è Unity –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è WattsTap.

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ Render.com
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Ñ–∞–π–ª—ã Unity –±–∏–ª–¥–∞ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `requirements.txt` —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∏–ª–¥–∞

–î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è Unity –±–∏–ª–¥–∞:
1. –ó–∞–º–µ–Ω–∏—Ç–µ —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫–µ `unity_build/`
2. –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏ –∑–∞–ø—É—à—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
```bash
git add unity_build/
git commit -m "Update Unity build"
git push origin main
```
3. Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å–æ–±–µ—Ä–µ—Ç –∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é


